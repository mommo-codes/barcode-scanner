<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
  >

  <title>Barcode Scanner – SWE Catalog Tools</title>

  <!-- Adobe Fonts -->
  <link rel="stylesheet" href="https://use.typekit.net/txf7cul.css">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap"
    rel="stylesheet"
  >

  <link rel="stylesheet" href="styles.css">
</head>

<div id="toast" class="toast hidden"></div>


<body>
  <div class="container app-layout">

    <!-- HEADER -->
    <div class="header">
      <h1>Barcode Scanner</h1>
      <p>Scan product GTINs directly from DataBase</p>

      <div class="scan-mode">
        <label for="price-mode">Scan mode</label>
        <select id="price-mode">
          <option value="no-price">No price</option>
          <option value="price">Price</option>
        </select>
      </div>
    </div>

    <!-- MAIN APP AREA -->
    <div class="app-main">

      <!-- CAMERA CARD -->
      <div class="tool-card tool-card-large camera-card">
        <div id="camera-container">
          <video id="video" autoplay playsinline></video>
          <canvas id="overlay"></canvas>
          <canvas id="canvas"></canvas>
        </div>

        <div class="scanner-output">
          <div class="last-scan-label">Last scan</div>
          <div id="gtin">—</div>
        </div>
      </div>

      <!-- LIST CARD -->
      <div class="tool-card list-card">
        <h2>Scanned items</h2>
        <ul id="scan-list"></ul>
      </div>

    </div>

    <button id="download" class="primary">
      Download CSV
    </button>

    <!-- PRICE INPUT MODAL -->
    <div id="price-modal" class="price-modal hidden">
      <div class="price-box">
        <h3>Enter price</h3>
        <input
          id="price-input"
          type="number"
          step="0.01"
          inputmode="decimal"
          placeholder="0.00"
        />
        <button id="price-confirm" class="primary">OK</button>
      </div>
    </div>

    <!-- Beep -->
    <audio id="beep">
      <source
        src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"
        type="audio/ogg"
      >
    </audio>

  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
